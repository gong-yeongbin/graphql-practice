# GraphQL 정리

## GraphQL이란?

GraphQL은 클라이언트가 **필요한 데이터만** 선택해서 요청할 수 있도록 하는 API용 쿼리 언어이자 런타임이다.  
클라이언트 중심 데이터 요청 방식을 사용하며, 보통 하나의 엔드포인트를 통해 여러 종류의 데이터를 조회한다.

---

### Apollo Server란?
GraphQL Api를 제공하는 서버를 개발할 수 있게 도와주는 패키지 ex)Node.js의 Express와 비슷한 역할

---

### REST API와의 차이

- 기존 REST API는 클라이언트가 필요로 하지 않는 데이터까지 함께 전송하는 경우가 많아 네트워크 낭비가 발생할 수 있다.
- 클라이언트마다 다른 엔드포인트가 다른 엔드포인트를 만들어야 하는 경우가 많아, 개발 및 유지 보수가 복잡해질 수 있다.

---

### 장점

- HTTP 요청 횟수를 줄일 수 있음
- HTTP 응답 사이즈를 줄일 수 있음

---

### 단점

- 고정된 요청·응답만 필요할 때에는 쿼리 작성 때문에 요청 크기가 REST보다 커질 수 있음
- 캐싱 전략 설계가 복잡함
- 파일 업로드 방법이 스펙에서 정해져 있지 않아 별도 규약/라이브러리가 필요함

---

### typeDefs(스키마)

- 형식과 규칙
- 어떤 타입, 어떤 쿼리/뮤테이션을 호출할 수 있고, 각 필드가 어떤 타입인지 등을 선언하는 부분
- 무슨 요청을 받을 수 있고 어떤 타입을 돌려준다

---

### resolvers(실행로직)

- 스키마의 규칙을 따라 실제로 동작하는 코드
- 요청이 왔을 때 실제로 어떻게 처리해서 값을 만들지

---

### Query (쿼리)

서버에서 데이터를 **조회**할 때 사용하며, REST의 `GET`에 대응된다.

```
query {
    user {
        id
        name
        email
    }
```


---

## Mutation (뮤테이션)

데이터를 **생성, 수정, 삭제**할 때 사용하며, REST의 `POST/PUT/PATCH/DELETE`에 대응된다.


```
mutation {
    createUser(input: { name: "Alice", email: "alice@test.com" }) {
        name
        email
    }
}
```

